<html>
    <head>
        <style>
            body {
              color: #33333;
              margin: 0;
              padding: 0;
              font-family: Georgia;
              background-color: #F2FBCA;
            }

            a {
              color: #333;
            }
            a:visited {
              color: #333;
            }
            a:hover {
              color: #333;
            }

            #mori {
              color: #003300;
              margin: 0px;
              font-size: 84px;
            }
            
            #mori-nav {
              background-color: #D0FFBA;
              position: fixed;
              left: 0px;
              top: 0px;
              bottom: 0px;
              overflow-y: scroll;
              width: 200px;
              box-sizing: border-box;
              padding: 25px 10px 10px 20px;
            }

            #mori-content {
              position: absolute;
              left: 200px;
              top: 0px;
              box-sizing: border-box;
              padding-left: 25px;
            }

            #mori-nav ul {
              padding: 0;
              list-style: none;
            }

            #mori-nav ul li {
              font-size: 12px;
              padding: 0;
              list-style: none;
              font-family: Helvetica;
            }

            .toc-title {
              font-family: helvetica, sans-serif;
              font-size: 14px;
              font-weight: bold;
              display: block;
              text-decoration: underline;
            }

            #mori-content {
              width: 600px;
            }

            #mori-content h2 {
              font-family: helvetica;
            }
            #mori-content h3 {
              font-family: helvetica;
              font-size: 18px;
            }
        </style>
        <script type="text/javascript" src="http://use.typekit.com/rvk4jgw.js"></script>
        <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    </head>
    <body>

        <div id="mori-nav">

            <a href="#mori" class="toc-title">Mori</a>
            <br/>
            <a href="#rationale" class="toc-title">Rationale</a>
            <br/>

            <a href="#collection" class="toc-title">Collections</a>
            <ul>
                <li><a href="#list">- list</a></li>
                <li><a href="#vector">- vector</a></li>
                <li><a href="#hash_map">- hash_map</a></li>
                <li><a href="#set">- set</a></li>
                <li><a href="#sorted_set">- sorted_set</a></li>
            </ul>

            <a class="toc-title">Collection Operations</a>
            <ul>
                <li><a href="#conj">- conj</a></li>
                <li><a href="#assoc">- assoc</a></li>
                <li><a href="#dissoc">- dissoc</a></li>
                <li><a href="#get">- get</a></li>
                <li><a href="#get_in">- get_in</a></li>
                <li><a href="#has_key">- has_key</a></li>
                <li><a href="#find">- find</a></li>
                <li><a href="#nth">- nth</a></li>
                <li><a href="#assoc_in">- assoc_in</a></li>
                <li><a href="#update_in">- update_in</a></li>
                <li><a href="#size">- size</a></li>
                <li><a href="#peek">- peek</a></li>
                <li><a href="#pop">- pop</a></li>
            </ul>

            <a class="toc-title">Sequences</a>
            <ul>
                <li><a href="#first">- first</a></li>
                <li><a href="#rest">- rest</a></li>
                <li><a href="#seq">- seq</a></li>
                <li><a href="#seq">- each</a></li>
                <li><a href="#map">- map</a></li>
                <li><a href="#filter">- filter</a></li>
                <li><a href="#remove">- remove</a></li>
                <li><a href="#reduce">- reduce</a></li>
                <li><a href="#take">- take</a></li>
                <li><a href="#take_while">- take_while</a></li>
                <li><a href="#drop">- drop</a></li>
                <li><a href="#drop_while">- drop_while</a></li>
                <li><a href="#interpose">- interpose</a></li>
                <li><a href="#interleave">- interleave</a></li>
                <li><a href="#repeat">- repeat</a></li>
                <li><a href="#repeatedly">- repeatedly</a></li>
                <li><a href="#partition">- partition</a></li>
                <li><a href="#group_by">- group_by</a></li>
            </ul>

            <a class="toc-title">Helpers</a>
            <ul>
                <li><a href="#sum">- sum</a></li>
                <li><a href="#inc">- inc</a></li>
                <li><a href="#dec">- dec</a></li>
                <li><a href="#is_even">- is_even</a></li>
                <li><a href="#is_odd">- is_odd</a></li>
                <li><a href="#juxt">- juxt</a></li>
                <li><a href="#knit">- knit</a></li>
                <li><a href="#pipeline">- pipeline</a></li>
                <li><a href="#partial">- partial</a></li>
                <li><a href="#curry">- curry</a></li>
            </ul>

            <a class="toc-title">Zippers</a>
        </div>

        <div id="mori-content">
            <h1 id="mori" class="tk-anisette-petite">mori</h1>

            <p>
                A library for using ClojureScript's persistent data
                structures and supporting API from the comfort of
                vanilla JavaScript.
            </p>

            <h2 id="rationale">Rationale</h2>
            <p>
                JavaScript is a powerful and flexible dynamic
                programming language with a beautiful simple
                associative model at its core. However this design
                comes at the cost of ubiquitous mutablity. Mori
                embraces the simple associative model but leaves
                mutability behind. Mori delivers the following
                benefits over JavaScript:
            </p>
            <ul>
                <li>Efficient immutable data structures - no cloning required</li>
                <li>Uniform iteration for all types</li>
                <li>Value based equality</li>
            </ul>
            <p>
                Modern JavaScript engines like V8, JavaScriptCore, and
                SpiderMonkey deliver the performance needed to implement
                peristent data structures well.
            </p>

            <h2>Mori is not an island</h2>
            <p>
                Beyond the the core philosophy Mori makes no other
                assumptions about how you might use it. In fact, Mori
                has changed some aspects of the ClojureScript API in
                order to better accomodate usage from JavaScript and
                languages that target JavaScript like
                CoffeeScript. For example, where it makes sense, Mori
                returns regular JavaScript arrays so that you can use
                destructuring syntax where available.
            </p>


            <h2>How to use Mori</h2>
            <p>
                Mori can be used in precisely the same way that
                libraries like Underscore.js are used. Mori of course
                provides not only the same functionality but it
                delivers a rich sets of data structures. In general
                Mori's operators are more general than the ones
                provided by Underscore.js - they work on nearly all
                the native JavaScript types. In those cases where they
                do not work you usually just need to wrap the type
                in <code>mori.prim_seq(...)</code>.
            </p>

            <h1 id="api">API</h1>

            <h2 id="collections">Collections</h2>

            <h3 id="list">list</h3>
            <p>
                Constructs an immutable list. Lists support efficient
                addition at the head of the list. It's important to
                remember that the cost of operations like
                <code>mori.nth</code> will be linear in the size of
                the list.
            </p>
                
            <h3 id="vector">vector</h3>
            <p>
                Constructs an immutable vector. Vectors support efficient
                addition at the end. They also support efficient random
                access. You will probaly use <code>mori.vector</code> much
                more often than <code>mori.list</code>
            </p>
            
            <h3 id="hash_map">hash_map</h3>
            <p>
                Constructs an immutable hash map. Unlike JavaScript objects
                Mori PersistentHashMap support complex keys. It wise to
                use only immutable values for your keys - numbers, strings or
                a Mori collection.
            </p>

            <h3 id="set">set</h3>
            <h3 id="sorted_set">sorted_set</h3>

            <h2 id="collection_operations">Collection Operations</h2>
            <h3 id="conj">conj</h3>
            <h3 id="assoc">assoc</h3>
            <h3 id="get">get</h3>
            <h3 id="get_in">get_in</h3>
            <h3 id="has_key">has_key</h3>
            <h3 id="find">find</h3>
            <h3 id="nth">nth</h3>
            <h3 id="assoc_in">assoc_in</h3>
            <h3 id="update_in">update_in</h3>
            <h3 id="size">size</h3>
            <h3 id="peek">peek</h3>
            <h3 id="pop">pop</h3>

            <h2 id="sequences">Sequences</h2>
            <h3 id="first">first</h3>
            <h3 id="rest">rest</h3>
            <h3 id="seq">seq</h3>
            <h3 id="each">each</h3>
            <h3 id="map">map</h3>
            <h3 id="filter">filter</h3>
            <h3 id="remove">remove</h3>
            <h3 id="reduce">reduce</h3>
            <h3 id="take">take</h3>
            <h3 id="take_while">take_while</h3>
            <h3 id="drop">drop</h3>
            <h3 id="drop_while">drop_while</h3>
            <h3 id="interpose">interpose</h3>
            <h3 id="interleave">interleave</h3>
            <h3 id="iterate">iterate</h3>
            <h3 id="repeat">repeat</h3>
            <h3 id="repeatedly">repeatedly</h3>
            <h3 id="partition">partition</h3>
            <h3 id="group_by">group_by</h3>

            <h2 id="reducers">Reducer Framework</h2>
            <h3 id="rmap">rmap</h3>
            <h3 id="rfilter">rfilter</h3>
            <h3 id="rtake">rtake</h3>
            <h3 id="rdrop">rdrop</h3>

            <h2 id="helpers">Helpers</h2>
            <h3 id="inc">inc</h3>
            <h3 id="dec">dec</h3>
            <h3 id="sum">sum</h3>
            <h3 id="is_even">is_even</h3>
            <h3 id="is_odd">is_odd</h3>
        </div>
    </body>
</html>
